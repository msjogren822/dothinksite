<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Supabase via Netlify Function</title>
</head>
<body>
  <h1>Supabase Connectivity Test</h1>
  <p>Check your browser console for the result.</p>

  <script>
    // Call the Netlify Function instead of Supabase directly
    fetch('/.netlify/functions/ping')
      .then(res => res.json())
      .then(({ data, error }) => {
        if (error) {
          console.error('❌ Ping failed:', error);
        } else if (data && data.length) {
          console.log('✅ Ping OK! Row:', data[0]);
        } else {
          console.warn('⚠️ Ping OK but no rows returned.');
        }
      })
      .catch(err => console.error('Fetch error:', err));
  </script>
</body>
</html>
